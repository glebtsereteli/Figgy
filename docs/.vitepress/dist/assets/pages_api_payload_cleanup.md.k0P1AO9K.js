import{_ as a,c as t,o as s,ag as l}from"./chunks/framework.DTssdQUe.js";const u=JSON.parse('{"title":"Cleanup","description":"","frontmatter":{},"headers":[],"relativePath":"pages/api/payload/cleanup.md","filePath":"pages/api/payload/cleanup.md","lastUpdated":1758490823000}'),o={name:"pages/api/payload/cleanup.md"};function i(n,e,d,r,p,h){return s(),t("div",null,e[0]||(e[0]=[l(`<h1 id="cleanup" tabindex="-1">Cleanup <a class="header-anchor" href="#cleanup" aria-label="Permalink to &quot;Cleanup&quot;">​</a></h1><p>Cleanup, also known as &quot;unloading&quot; or &quot;destroying&quot; a room, is typically used when the loaded room contexts are no longer needed. For example, if you&#39;re doing chunking by dynamically loading and unloading parts of a level as the player approaches.</p><h2 id="cleanup-1" tabindex="-1"><code>.Cleanup()</code> <a class="header-anchor" href="#cleanup-1" aria-label="Permalink to &quot;\`.Cleanup()\`&quot;">​</a></h2><blockquote><p><code>payload.Cleanup([destroyLayers?])</code> ➜ N/A</p></blockquote><p>Destroys all created layers and their elements. After calling this method, the <a href="/GMRoomLoader/pages/api/payload/overview">Payload</a> instance becomes practically useless and should be dereferenced to be picked up by the <a href="https://manual.gamemaker.io/monthly/en/GameMaker_Language/GML_Reference/Garbage_Collection/Garbage_Collection.htm" target="_blank" rel="noreferrer">Garbage Collector</a>.</p><table tabindex="0"><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>[destroyLayers?]</code></td><td><a href="https://manual.gamemaker.io/monthly/en/GameMaker_Language/GML_Overview/Data_Types.htm" target="_blank" rel="noreferrer">Bool</a></td><td>Destroy loaded layers? [Default: <code>true</code>]</td></tr></tbody></table><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Setting <code>destroyLayers</code> to <code>false</code> can be useful when <a href="/GMRoomLoader/pages/api/config/#roomloader-merge-layers">ROOMLOADER_MERGE_LAYERS</a> is <code>true</code> and you don&#39;t want to accidentally destroy layers shared between multiple loaded rooms. This way, only the elements belonging to this <a href="/GMRoomLoader/pages/api/payload/overview">Payload</a> will be destroyed, while the layers themselves remain untouched.</p></div><div class="vp-code-group vp-adaptive-theme"><div class="tabs"><input type="radio" name="group-5kH-_" id="tab-CInfent" checked><label data-title="Example" for="tab-CInfent">Example</label></div><div class="blocks"><div class="language-js vp-adaptive-theme active"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark has-highlighted vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// When you load the room:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">payload </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> RoomLoader.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Load</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(rmExample, x, y);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// When it&#39;s time to unload the room:</span></span>
<span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">payload.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Cleanup</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(); </span></span></code></pre></div></div></div>`,8)]))}const y=a(o,[["render",i]]);export{u as __pageData,y as default};
